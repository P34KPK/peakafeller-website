/* 1. Scroll Reveal Animation - ENHANCED */
.reveal {
    opacity: 1;
    transform: translateY(0);
    /* Smoother, less mechanical ease (Exponential Out) */
    transition: opacity 1.0s cubic-bezier(0.16, 1, 0.3, 1), transform 1.2s cubic-bezier(0.16, 1, 0.3, 1);
    will-change: opacity, transform;
}

/* Hidden state applied by JS */
.reveal.pending {
    opacity: 0;
    transform: translateY(30px);
    /* Subtler movement (was 80px) */
    /* Blur removed for performance */
}

/* When revealed */
.reveal.visible {
    opacity: 1;
    transform: translateY(0);
    filter: blur(0);
}

/* Cascade / Stagger Effect for Cards */
.visible .spotify-card:nth-child(1) {
    transition-delay: 0.1s;
}

.visible .spotify-card:nth-child(2) {
    transition-delay: 0.2s;
}

.visible .spotify-card:nth-child(3) {
    transition-delay: 0.3s;
}

.visible .spotify-card:nth-child(4) {
    transition-delay: 0.4s;
}

.visible .spotify-card:nth-child(5) {
    transition-delay: 0.5s;
}

.visible .spotify-card:nth-child(6) {
    transition-delay: 0.6s;
}

/* Staggered Delay for grid items if needed */
.grid-container .spotify-card:nth-child(1) {
    transition-delay: 0.1s;
}

.grid-container .spotify-card:nth-child(2) {
    transition-delay: 0.2s;
}

.grid-container .spotify-card:nth-child(3) {
    transition-delay: 0.3s;
}

.grid-container .spotify-card:nth-child(4) {
    transition-delay: 0.4s;
}


/* 2. 3D Tilt Card Base */
/* 2. 3D Tilt Card Base - STABILIZED VERSION */
/* 2. CARD HOVER EFFECT - ZOOM & GLOW (Safe Mode) */
.spotify-card {
    transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), z-index 0s;
    will-change: transform;
    position: relative;
    z-index: 1;
}

.spotify-card:hover {
    transform: translateY(-8px) scale(1.02);
    z-index: 100;
}

/* Cover Styling */
.spotify-cover-wrap {
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    transition: box-shadow 0.3s ease;
    overflow: hidden;
    /* Ensure image stays contained */
    border-radius: 4px;
    position: relative;
}

/* Glow Effect on Hover */
.spotify-card:hover .spotify-cover-wrap {
    box-shadow: 0 15px 40px rgba(255, 102, 0, 0.3);
    /* Orange Glow */
}

/* Inner Shine Sweep */
.spotify-cover-wrap::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0) 100%);
    transform: skewX(-25deg);
    pointer-events: none;
    transition: none;
}

.spotify-card:hover .spotify-cover-wrap::after {
    left: 200%;
    transition: left 0.6s ease-in-out;
}

/* Hide Pinterest / Extensions */
.spotify-cover-wrap span[data-pin-log],
.spotify-cover-wrap span[class*="pin"] {
    display: none !important;
}

.spotify-cover-wrap img {
    pointer-events: none !important;
    width: 100%;
    display: block;
}

/* Text elements */
.spotify-title,
.spotify-subtitle,
.btn-buy {
    transition: color 0.2s;
}

.spotify-card:hover .spotify-title {
    color: var(--color-accent);
}