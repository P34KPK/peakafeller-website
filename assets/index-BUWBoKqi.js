(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const c=document.getElementById("bg-canvas"),f=c.getContext("2d");let q=[],I=0,w=0,M=window.innerWidth/2,x=window.innerHeight/2,A=window.innerWidth/2,b=window.innerHeight/2;function O(){c.width=window.innerWidth,c.height=window.innerHeight}O();window.addEventListener("resize",O);let N=-1e3,U=-1e3;window.addEventListener("mousemove",e=>{N=e.clientX,U=e.clientY});class F{constructor(){this.x=Math.random()*c.width,this.y=Math.random()*c.height,this.baseSize=Math.random()*2+.5,this.size=this.baseSize,this.speedX=(Math.random()-.5)*.2,this.speedY=(Math.random()-.5)*.2,this.chars=["0","1","{","}","<",">","/",";","*","+"],this.char=Math.random()<.1?this.chars[Math.floor(Math.random()*this.chars.length)]:null,this.color={r:60,g:60,b:60,a:.3},this.energy=0}update(r,t,a,i,s){const n=c.width/2,o=c.height/2,l=this.x-i,d=this.y-s,h=Math.sqrt(l*l+d*d),u=150;if(h<u){const m=(u-h)/u;this.x+=l/h*m*2,this.y+=d/h*m*2,this.energy=Math.min(this.energy+.1,1)}else this.energy=Math.max(this.energy-.02,0);if(w>.1){const m=n-this.x,v=o-this.y,L=Math.sqrt(m*m+v*v),E=Math.atan2(v,m),S=w*.05;this.x+=Math.cos(E)*S*(L/50),this.y+=Math.sin(E)*S*(L/50),this.energy=Math.min(this.energy+.05,1)}else this.x+=this.speedX,this.y+=this.speedY;r&&t>.2&&(this.energy=1,this.x+=(Math.random()-.5)*t*5,this.y+=(Math.random()-.5)*t*5),this.x>c.width+50&&(this.x=-50),this.x<-50&&(this.x=c.width+50),this.y>c.height+50&&(this.y=-50),this.y<-50&&(this.y=c.height+50)}draw(r,t,a){let i=60+195*this.energy,s=60+25*this.energy,n=60+-60*this.energy,o=.3+.7*this.energy;if(f.fillStyle=`rgba(${Math.floor(i)}, ${Math.floor(s)}, ${Math.floor(n)}, ${o})`,this.char&&(this.energy>.5||r))f.font=`${this.baseSize*4}px monospace`,f.fillText(this.char,this.x,this.y);else{let l=this.baseSize*(1+this.energy);f.fillRect(this.x,this.y,l,l)}}}function W(){q=[];const e=Math.floor(c.width*c.height/2e4);for(let r=0;r<e;r++)q.push(new F)}W();window.addEventListener("resize",W);let P=0;const G=468;let y=0;function X(){f.clearRect(0,0,c.width,c.height),M+=(A-M)*.05,x+=(b-x)*.05;const e=Math.max(c.width,c.height)*.6,r=f.createRadialGradient(M,x,0,M,x,e);r.addColorStop(0,"rgba(255, 85, 0, 0.15)"),r.addColorStop(1,"rgba(255, 85, 0, 0)"),f.fillStyle=r,f.fillRect(0,0,c.width,c.height);const t=document.getElementById("stickyPlayer")?.classList.contains("active"),a=Date.now();t?(a-P>G&&(P=a,y=1),y*=.85,w=.6+y*.4):(y*=.9,w*=.95),q.forEach((i,s)=>{i.update(t,y,s,N,U),i.draw(t,y,s)}),requestAnimationFrame(X)}X();let B=0,T=!1,k=0,$,Y,R;window.addEventListener("scroll",()=>{B=window.scrollY,T||(window.requestAnimationFrame(()=>{V(B),T=!1}),T=!0)});function V(e){const r=e;I=r-k;const t=Math.abs(I);t>0&&(w=Math.min(w+t*.05,4)),b+=I*1.5,t>2&&(A+=(Math.random()-.5)*150,b+=(Math.random()-.5)*100),b=Math.max(-400,Math.min(c.height+400,b)),A=Math.max(-200,Math.min(c.width+200,A)),k=r,setTimeout(()=>{},50),document.querySelectorAll(".parallax-layer").forEach(n=>{const o=n.getAttribute("data-speed"),l=-(e*o);n.style.transform=`translate3d(0, ${l}px, 0)`}),document.body.classList.add("is-scrolling"),clearTimeout(R),R=setTimeout(()=>{document.body.classList.remove("is-scrolling")},150);const i=document.querySelector(".triangle-loader");if(i){const n=document.querySelector("#music");if(n){const o=n.getBoundingClientRect();o.top<window.innerHeight&&o.bottom>0&&(i.classList.remove("paused"),clearTimeout($),$=setTimeout(()=>{i.classList.add("paused")},1e3))}}const s=document.querySelector(".visual-loader");if(s){const n=document.querySelector("#visuals");if(n){const o=n.getBoundingClientRect();o.top<window.innerHeight&&o.bottom>0&&(s.classList.remove("paused"),clearTimeout(Y),Y=setTimeout(()=>{s.classList.add("paused")},1e3))}}}class K{constructor(r){this.element=r,this.originalText=r.innerText,this.chars="!<>-_\\/[]{}â€”=+*^?#________",this.frame=0,this.queue=[],this.resolving=!1,this.update=this.update.bind(this);for(let t=0;t<this.originalText.length;t++){const a=this.originalText[t],i=this.originalText[t],s=Math.floor(Math.random()*40),n=s+Math.floor(Math.random()*40);this.queue.push({from:a,to:i,start:s,end:n})}this.element.innerText="",this.animate()}animate(){this.frameRequest=requestAnimationFrame(this.update)}update(){let r="",t=0;for(let a=0,i=this.queue.length;a<i;a++){let{from:s,to:n,start:o,end:l,char:d}=this.queue[a];this.frame>=l?(t++,r+=n):this.frame>=o?((!d||Math.random()<.28)&&(d=this.randomChar(),this.queue[a].char=d),r+=`<span class="dud">${d}</span>`):r+=s}this.element.innerHTML=r,t===this.queue.length?(cancelAnimationFrame(this.frameRequest),this.resolving=!1):(this.frame++,this.frameRequest=requestAnimationFrame(this.update))}randomChar(){return this.chars[Math.floor(Math.random()*this.chars.length)]}}const j=document.querySelectorAll("[data-scramble]"),J={threshold:.1},Q=new IntersectionObserver(e=>{e.forEach(r=>{if(r.isIntersecting){const t=r.target;t.classList.contains("scrambled")||(new K(t),t.classList.add("scrambled"))}})},J);j.forEach(e=>{Q.observe(e)});const Z=document.querySelectorAll(".nav-item, .scramble-link");Z.forEach(e=>{const r=e.getAttribute("data-text");let t,a=!1;e.addEventListener("mouseenter",()=>{if(a)return;a=!0;let i=0;const s=20;t=setInterval(()=>{let n="";for(let o=0;o<r.length;o++)n+=Math.floor(Math.random()*10);e.innerText=n,i++,i>=s&&(clearInterval(t),e.innerText=r,a=!1)},50)})});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(r){r.preventDefault();const t=this.getAttribute("href");if(t==="#"||!t)return;const a=document.querySelector(t);a&&a.scrollIntoView({behavior:"smooth"})})});window.addEventListener("load",()=>{const e=()=>{if(!window.SC){setTimeout(e,500);return}document.querySelectorAll(".play-btn").forEach(t=>{const a=t.getAttribute("data-target"),i=document.getElementById(a);if(!i)return;const s=SC.Widget(i),n=t.closest(".terminal-player"),o=n.querySelector(".status-indicator"),l=n.querySelector(".progress-bar-fill"),d=n.querySelector(".time-display");let h=0;s.bind(SC.Widget.Events.READY,()=>{o.textContent="[ONLINE]",s.getDuration(u=>{h=u})}),s.bind(SC.Widget.Events.PLAY,()=>{o.classList.add("active"),o.textContent="[PLAYING]",t.textContent="[ STOP ]",t.style.color="#ff4444",t.style.borderColor="#ff4444"}),s.bind(SC.Widget.Events.PAUSE,()=>{o.classList.remove("active"),o.textContent="[PAUSED]",t.textContent="[ RESUME ]",t.style.color="",t.style.borderColor=""}),s.bind(SC.Widget.Events.PLAY_PROGRESS,u=>{if(h>0){const m=u.currentPosition/h*100;l.style.width=m+"%";const v=Math.floor(u.currentPosition/6e4),L=Math.floor(u.currentPosition%6e4/1e3).toString().padStart(2,"0"),E=Math.floor(h/6e4),S=Math.floor(h%6e4/1e3).toString().padStart(2,"0");d.textContent=`${v}:${L} / ${E}:${S}`}}),s.bind(SC.Widget.Events.FINISH,()=>{o.classList.remove("active"),o.textContent="[ONLINE]",t.textContent="[ REPLAY ]",l.style.width="0%"}),t.addEventListener("click",()=>{s.toggle()})})};e()});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("stickyPlayer"),r=document.getElementById("closePlayer"),t=document.getElementById("bandcamp-embed-container");document.querySelectorAll(".card-play-btn").forEach(i=>{i.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),e.classList.add("active");const n=i.getAttribute("data-source");if(n==="soundcloud"){const o=i.getAttribute("data-track-id");let l="";/^\d+$/.test(o)?l=`https%3A//api.soundcloud.com/tracks/${o}`:l=encodeURIComponent(o);const d=`https://w.soundcloud.com/player/?url=${l}&color=%23ff5500&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true`;t.innerHTML=`<iframe width="100%" height="120" scrolling="no" frameborder="no" allow="autoplay" src="${d}"></iframe>`}else if(n==="spotify"){const l=`https://open.spotify.com/embed/track/${i.getAttribute("data-track-id")}?utm_source=generator&theme=0`;t.innerHTML=`<iframe style="border-radius:12px" src="${l}" width="100%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`}else{const o=i.getAttribute("data-album-id"),l=i.getAttribute("data-bc-track-id");let d="";l?d=`https://bandcamp.com/EmbeddedPlayer/track=${l}/size=large/bgcol=333333/linkcol=0f9159/artwork=small/transparent=true/`:o&&(d=`https://bandcamp.com/EmbeddedPlayer/album=${o}/size=large/bgcol=333333/linkcol=0f9159/artwork=small/transparent=true/`),d&&(t.innerHTML=`<iframe style="border: 0; width: 100%; height: 120px;" src="${d}" seamless></iframe>`)}})}),r.addEventListener("click",()=>{e.classList.remove("active"),t.innerHTML=""})});const _=document.getElementById("cursor"),D=document.getElementById("cursor-border");document.addEventListener("mousemove",e=>{_.style.left=e.clientX+"px",_.style.top=e.clientY+"px",setTimeout(()=>{D.style.left=e.clientX+"px",D.style.top=e.clientY+"px"},50)});const tt=document.querySelectorAll("a, button, .spotify-card, .gallery-item");tt.forEach(e=>{e.addEventListener("mouseenter",()=>{document.body.classList.add("hovering")}),e.addEventListener("mouseleave",()=>{document.body.classList.remove("hovering")})});const C=document.querySelectorAll(".term-file"),g=document.getElementById("mainVideoDisplay"),et=document.getElementById("videoTitleDisplay"),it=document.getElementById("videoStatus");g&&C.length>0&&(C.forEach(e=>{e.addEventListener("click",()=>{C.forEach(a=>a.classList.remove("active")),e.classList.add("active");const r=e.getAttribute("data-id"),t=e.getAttribute("data-title");g.setAttribute("data-video-id",r),g.innerHTML=`<iframe width="100%" height="100%" src="https://www.youtube.com/embed/${r}?autoplay=1&rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen style="position: absolute; top:0; left:0; width:100%; height:100%;"></iframe>`,et.textContent=t.toUpperCase(),it.textContent="> STATUS: PLAYING..."})}),g.addEventListener("click",()=>{if(g.querySelector("iframe"))return;const e=g.getAttribute("data-video-id");g.innerHTML=`<iframe width="100%" height="100%" src="https://www.youtube.com/embed/${e}?autoplay=1&rel=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen style="position: absolute; top:0; left:0; width:100%; height:100%;"></iframe>`}));const p=document.getElementById("rawbeat-modal"),H=document.getElementById("rawbeat-close"),z=document.querySelector(".rabbit-link");p&&z&&(z.addEventListener("click",e=>{e.preventDefault(),p.classList.add("active")}),H&&H.addEventListener("click",()=>{p.classList.remove("active")}),p.addEventListener("click",e=>{e.target===p&&p.classList.remove("active")}));
